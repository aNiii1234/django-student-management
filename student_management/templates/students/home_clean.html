{% extends 'base-minimal.html' %}
{% load static %}

{% block title %}é¦–é¡µ - å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 2rem auto; padding: 0 1rem;">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">
        <div>
            <h1 class="page-title">å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ</h1>
            <p style="color: var(--text-secondary); margin: 0.5rem 0;">
                {% if user.is_authenticated %}
                    æ¬¢è¿å›æ¥ï¼Œ{{ user.get_full_name|default:user.username }}ï¼
                {% else %}
                    æ¬¢è¿ä½¿ç”¨å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ
                {% endif %}
            </p>
        </div>
        {% if not user.is_authenticated %}
            <div class="page-actions">
                <a href="{% url 'accounts:login' %}" class="btn btn-primary">ç™»å½•</a>
                <a href="{% url 'accounts:register' %}" class="btn btn-outline">æ³¨å†Œ</a>
            </div>
        {% endif %}
    </div>

    <!-- ä¸»è¦åŠŸèƒ½åŒºåŸŸ -->
    {% if user.is_authenticated %}
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
            <!-- æ ¹æ®ç”¨æˆ·è§’è‰²æ˜¾ç¤ºä¸åŒçš„åŠŸèƒ½å¡ç‰‡ -->
            {% if user.role == 'admin' %}
                <div class="card">
                    <div class="card-header">
                        ç®¡ç†åŠŸèƒ½
                    </div>
                    <div class="card-body">
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                            ç³»ç»Ÿç®¡ç†å’Œç”¨æˆ·ç®¡ç†åŠŸèƒ½
                        </p>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <a href="{% url 'accounts:admin_dashboard' %}" class="btn btn-primary">
                                ç®¡ç†é¢æ¿
                            </a>
                            <a href="{% url 'students:student_list' %}" class="btn btn-outline">
                                å­¦ç”Ÿç®¡ç†
                            </a>
                            <a href="{% url 'accounts:user_list' %}" class="btn btn-outline">
                                ç”¨æˆ·ç®¡ç†
                            </a>
                        </div>
                    </div>
                </div>
            {% elif user.role == 'student' %}
                <div class="card">
                    <div class="card-header">
                        å­¦ç”ŸåŠŸèƒ½
                    </div>
                    <div class="card-body">
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                            ä¸ªäººä¿¡æ¯å’Œå­¦ä¹ ç®¡ç†
                        </p>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <a href="{% url 'accounts:student_dashboard' %}" class="btn btn-primary">
                                å­¦ç”Ÿé¢æ¿
                            </a>
                            <a href="{% url 'accounts:profile' %}" class="btn btn-outline">
                                ä¸ªäººæ¡£æ¡ˆ
                            </a>
                            <a href="{% url 'students:enrollment_list' %}" class="btn btn-outline">
                                è¯¾ç¨‹ç®¡ç†
                            </a>
                        </div>
                    </div>
                </div>
            {% endif %}

            <!-- é€šç”¨åŠŸèƒ½å¡ç‰‡ -->
            <div class="card">
                <div class="card-header">
                    æ¡£æ¡ˆç®¡ç†
                </div>
                <div class="card-body">
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                        å­¦ç”Ÿæ¡£æ¡ˆæŸ¥è¯¢å’Œç®¡ç†
                    </p>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <a href="{% url 'students:student_profile_list' %}" class="btn btn-info">
                            å­¦ç”Ÿæ¡£æ¡ˆåˆ—è¡¨
                        </a>
                        <a href="{% url 'students:department_list' %}" class="btn btn-outline">
                            é™¢ç³»ä¿¡æ¯
                        </a>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        <!-- æœªç™»å½•ç”¨æˆ·çš„æ¬¢è¿é¡µé¢ -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
            <div class="card">
                <div class="card-header">
                    ğŸ“ å­¦ç”Ÿç®¡ç†
                </div>
                <div class="card-body">
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        å®Œæ•´çš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬æ¡£æ¡ˆç®¡ç†ã€è¯¾ç¨‹æ³¨å†Œã€æˆç»©ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚
                    </p>
                    <ul style="color: var(--text-secondary); margin: 1rem 0; padding-left: 1.5rem; line-height: 1.6;">
                        <li>å­¦ç”Ÿæ¡£æ¡ˆç®¡ç†</li>
                        <li>è¯¾ç¨‹æ³¨å†Œç³»ç»Ÿ</li>
                        <li>æˆç»©ç®¡ç†</li>
                        <li>é™¢ç³»ä¿¡æ¯ç®¡ç†</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    ğŸ‘¥ ç”¨æˆ·ç³»ç»Ÿ
                </div>
                <div class="card-body">
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        å¤šè§’è‰²ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç®¡ç†å‘˜ã€æ•™å¸ˆã€å­¦ç”Ÿç­‰ä¸åŒè§’è‰²çš„æƒé™æ§åˆ¶ã€‚
                    </p>
                    <ul style="color: var(--text-secondary); margin: 1rem 0; padding-left: 1.5rem; line-height: 1.6;">
                        <li>è§’è‰²æƒé™ç®¡ç†</li>
                        <li>ç”¨æˆ·è®¤è¯ç³»ç»Ÿ</li>
                        <li>ä¸ªäººä¿¡æ¯ç®¡ç†</li>
                        <li>å®‰å…¨ç™»å½•æœºåˆ¶</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    ğŸ“Š æ•°æ®ç®¡ç†
                </div>
                <div class="card-body">
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        å¼ºå¤§çš„æ•°æ®ç®¡ç†å’Œç»Ÿè®¡åŠŸèƒ½ï¼Œæ”¯æŒæ•°æ®å¯¼å…¥å¯¼å‡ºã€ç»Ÿè®¡åˆ†æç­‰é«˜çº§åŠŸèƒ½ã€‚
                    </p>
                    <ul style="color: var(--text-secondary); margin: 1rem 0; padding-left: 1.5rem; line-height: 1.6;">
                        <li>æ•°æ®ç»Ÿè®¡åˆ†æ</li>
                        <li>æŠ¥è¡¨ç”Ÿæˆ</li>
                        <li>æ•°æ®å¯¼å…¥å¯¼å‡º</li>
                        <li>å®æ—¶æ•°æ®ç›‘æ§</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- å¿«é€Ÿæ“ä½œæŒ‰é’® -->
        <div style="text-align: center; margin: 3rem 0;">
            <h2 style="color: var(--text-primary); margin-bottom: 1.5rem;">å¼€å§‹ä½¿ç”¨</h2>
            <div class="quick-actions" style="justify-content: center;">
                <a href="{% url 'accounts:login' %}" class="quick-action-btn">
                    ğŸ” ç™»å½•ç³»ç»Ÿ
                </a>
                <a href="{% url 'accounts:register' %}" class="quick-action-btn">
                    âœï¸ ç«‹å³æ³¨å†Œ
                </a>
                <a href="{% url 'students:student_profile_list' %}" class="quick-action-btn">
                    ğŸ‘¥ æŸ¥çœ‹å­¦ç”Ÿ
                </a>
                <a href="{% url 'students:department_list' %}" class="quick-action-btn">
                    ğŸ¢ é™¢ç³»ä¿¡æ¯
                </a>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}